@startuml
left to right direction
skinparam linetype ortho
skinparam classAttributeIconSize 0

interface FileSubject {
  +addObserver(o: FileObserver) : void
  +removeObserver(o: FileObserver) : void
  +notifyChanged() : void
}

interface FileObserver {
  +onFileChanged() : void
}

class FileWatcher {
  -observers : List~FileObserver~
  -lastChanged : String
  +run() : void
  +addObserver(o: FileObserver) : void
  +removeObserver(o: FileObserver) : void
  +notifyChanged() : void
  +getLastChanged() : String
}

class FileSyncClient {
  -fileWatcher : FileWatcher
  +FileSyncClient(fileWatcher: FileWatcher)
  +onFileChanged() : void
  +pullAndSync() : void
  +syncFile(filename: String) : void
}

FileSubject <|.. FileWatcher
FileObserver <|.. FileSyncClient
FileSyncClient --> FileWatcher : fileWatcher

' 2x2 배치 고정(선택)
FileSubject -[hidden]-> FileObserver
FileWatcher -[hidden]-> FileSyncClient
@enduml
